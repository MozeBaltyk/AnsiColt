---
name: CI
on:
  push:
    branches: [master, main, "release/v*"]
  pull_request:
    branches: [master, main, "release/v*"]

jobs:
  run-yamllint:
    runs-on: ubuntu-latest
    steps:
      - name: â¤µï¸ Check out code from GitHub
        uses: actions/checkout@v3
      - name: ğŸš€ Run yamllint
        run: |
          yamllint .

  run-ansible-lint:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸš€ Run ansible-lint
        uses: ansible/ansible-lint@main


    #- name: Auto Correct YAML lint errors
    #  run: |
    #    echo '# Correct no new line character at the end of file'
    #    sed -i -e '$a\' playbooks/tasks/connectRepo.yml
    #    echo '# Correct trailing spaces"
    #    sed -i -e 's/[ \t]*$//' playbooks/tasks/connectRepo.yml
